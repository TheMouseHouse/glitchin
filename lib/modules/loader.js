'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.Loader=void 0;var _lodash=require('lodash'),_bluebird=require('bluebird'),_process=require('./process'),_jimp=require('jimp'),_jimp2=_interopRequireDefault(_jimp);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var Loader=exports.Loader=function a(b){return _classCallCheck(this,a),(0,_lodash.isUndefined)(b)?void 0:_jimp2.default.read(b).then(function(c){var d;try{var f=b.substr(-4,4);'.jpg'===f||'jpeg'===f?d=_jimp2.default.MIME_JPEG:'.png'===f?d=_jimp2.default.MIME_PNG:'.bmp'===f&&(d=_jimp2.default.MIME_BMP),c.bitmap.mime=d}catch(f){throw'File type not supported - '+ext}return(0,_process.Process)(c)}).catch(function(){return console.error})};